[toc]

# 概述

> OVERVIEW

<md-select>是用来在若干备选项中选择一个值的表单控件,与原生的<select>元素类似。你可以在[Material Design spec](https://material.google.com/components/menus.html)中阅读更多关于下拉框的信息。

> <md-select> is a form control for selecting a value from a set of options, similar to the native <select> element. You can read more about selects in the [Material Design spec](https://material.google.com/components/menus.html).

## 简单的下拉框

> Simple select

在你的模板中创建一个md-select元素。对于每一个下拉框中的选项，需要增加一个md-option标签。注意可以在选项中加入disabled布尔属性，或者将其绑定到选项中，来失效掉这个选项。

> In your template, create an md-select element. For each option you'd like in your select, add an md-option tag. Note that you can disable items by adding the disabled boolean attribute or binding to it.

*my-comp.html*

```html
<md-select placeholder="State">
   <md-option *ngFor="let state of states" [value]="state.code">{{ state.name }}</md-option>
</md-select>
```

## 获取和设置下拉框值

> Getting and setting the select value

下拉框组件设置为一个自定义值存取器，所以你可以通过任何FormsModule或者ReactiveFormsModule模块的表单指令，例如ngModel, formControl等等，来指定下拉框的值。

> The select component is set up as a custom value accessor, so you can manipulate the select's value using any of the form directives from the core FormsModule or ReactiveFormsModule: ngModel, formControl, etc.

*my-comp.html*

```html
<md-select placeholder="State" [(ngModel)]="myState">
   <md-option *ngFor="let state of states" [value]="state.code">{{ state.name }}</md-option>
</md-select>
```

*my-comp.ts*

```typescript
class MyComp {
  myState = 'AZ';
  states = [{code: 'AL', name: 'Alabama'}...];
}
```

## 重新设置下拉框值

> Resetting the select value

如果想用选项之一来重新设置下拉框值，你可以省略设置值的步骤。

> If you want one of your options to reset the select's value, you can omit specifying its value:

*my-comp.html*

```html
<md-select placeholder="State">
   <md-option>None</md-option>
   <md-option *ngFor="let state of states" [value]="state.code">{{ state.name }}</md-option>
</md-select>
```

## 设置静态占位符

> Setting a static placeholder

使用floatPlaceholder属性可以关闭占位符的浮动动画。可以设置为如下三个字符串值：

> It's possible to turn off the placeholder's floating animation using the floatPlaceholder property. It accepts one of three string options:

- 'auto'：这是默认的浮动占位符动画。当选择了一个值后，将会浮动在上方。
- 'never'：设置占位符静态。与浮动不同，当选择后占位符将会消失。
- 'always'：设置占位符永久浮动在输入框上方。不会有上下浮动的动画。

> - 'auto': This is the default floating placeholder animation. It will float up when a selection is made.
> - 'never': This makes the placeholder static. Rather than floating, it will disappear once a selection is made.
> - 'always': This makes the placeholder permanently float above the input. It will not animate up or down.

```html
<md-select placeholder="State" [(ngModel)]="myState" floatPlaceholder="never">
   <md-option *ngFor="let state of states" [value]="state.code">{{ state.name }}</md-option>
</md-select>
```

通过设置MD_PLACEHOLDER_GLOBAL_OPTIONS provider，可以设置全局的占位符属性。这将应用到所有支持浮动占位符的组件。

> Global default placeholder options can be specified by setting the MD_PLACEHOLDER_GLOBAL_OPTIONS provider. This setting will apply to all components that support the floating placeholder.

```typescript
@NgModule({
  providers: [
    {provide: MD_PLACEHOLDER_GLOBAL_OPTIONS, useValue: { float: 'always' }}
  ]
})
```

## 键盘交互

> Keyboard interaction:

- 下箭头：焦点移动到下一个选项
- 上箭头：焦点移动到上一个选项
- 回车或空格：选择当前焦点的选项

> - DOWN_ARROW: Focus next option
> - UP_ARROW: Focus previous option
> - ENTER or SPACE: Select focused item

# API

## 下拉框(select)的API参考

> API reference for Angular Material select

```typescript
import {MdSelectModule} from '@angular/material';
```

## 指令

> Directives

### MdSelect

Selector: md-select

导出属性: mdSelect

**属性**

> Properties

属性名|描述|Description
-|-|-
trigger|打开下拉框的触发器。|Trigger that opens the select.
overlayDir|包含备选项的叠加层面板。|Overlay pane containing the options.
options|所有定义的下拉框选项。|All of the defined select options.
optionGroups|所有定义的选项组。|All of the defined groups of options.
@Input()<br>panelClass|传递到下拉框面板的样式。支持与ngClass相同的语法。|Classes to be passed to the select panel. Supports the same syntax as ngClass.
@Input()<br>placeholder|当没有选定值时，展示的占位符。|Placeholder to be shown if no value has been selected.
@Input()<br>required|组件是否必须。|Whether the component is required.
@Input()<br>multiple|是否允许用户多选。|Whether the user should be allowed to select multiple options.
@Input()<br>floatPlaceholder|是否浮动占位符文本。|Whether to float the placeholder text.
@Input('aria-label')<br>ariaLabel|下拉框的aria标签。如果没有设置，将使用占位符作为标签。|Aria label of the select. If not specified, the placeholder will be used as label.
@Input('aria-labelledby')<br>ariaLabelledby|设置aria-labelledby属性。|Input that can be used to specify the aria-labelledby attribute.
optionSelectionChanges|所有子选项改变事件的合并流。|Combined stream of all of the child options' change events.
@Output()<br>onOpen|下拉框打开时的传出事件。|Event emitted when the select has been opened.
@Output()<br>onClose|下拉框关闭时的传出事件。|Event emitted when the select has been closed.
@Output()<br>change|当用户改变选择值时的传出事件。|Event emitted when the selected value has been changed by the user.
panelOpen|叠加层面板是否打开。|Whether or not the overlay panel is open.
selected|获取当前选择的备选项。|The currently selected option.
triggerValue|触发器中展示的值。|The value displayed in the trigger.

**方法**

> Methods

|方法名|描述|Description|
|-|-|-|
toggle|切换叠加层面板的打开或关闭状态。|Toggles the overlay panel open or closed.
open|打开叠加层面板。|Opens the overlay panel.
close|关闭叠加层面板，并使其属主元素获得焦点。|Closes the overlay panel and focuses the host element.
focus|使下拉框元素获得焦点|Focuses the select element.

## 附加类

> Additional classes

### MdSelectChange

当下拉框值改变时传出的改变事件对象。

> Change event object that is emitted when the select value has changed.